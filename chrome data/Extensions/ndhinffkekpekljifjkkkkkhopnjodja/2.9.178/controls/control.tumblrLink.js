(function(){var c=devhd.pkg("control");var a=c.BaseControl.prototype;var d=c.createClass("TumblrLinkControl",c.BaseControl);var b=devhd.i18n.L;d.initialize=function(){a.initialize.call(this)};d.setTumblr=function(e){this.tumblr=e};d.setTitle=function(e){this.title=e};d.setLink=function(e){this.link=e};d.destroy=function(){this.tumblr=null;a.destroy.call(this)
};d.display=function(){this.part.innerHTML=templates.tumblr.linkForm(this.title,this.link,this.home);this.bind("tumblrCancelAction","click",d.cancelIt);this.bind("tumblrCreateAction","click",d.createLink)};d.createLink=function(){var f=this.element("tumblrDescription").value;this.showSending();var e=this;this.tumblr.askLink(this.title,this.link,f,function(g){if(e.isDestroyed()==true){return
}e.fire("onControlDoneSending",b(515))},function(g,h){if(e.isDestroyed()==true){return}e.showPanel();e.setMessage(b(b(273),"Tumblr post",g,h))})};d.cancelIt=function(){this.fire("onControlDoneSending")};d.reset=function(){};d.showPanel=function(){this.element("panelSending").style.display="none";this.element("panelTumblr").style.display="block"};d.showSending=function(){this.element("panelSending").style.display="block";
this.element("panelTumblr").style.display="none"}})();