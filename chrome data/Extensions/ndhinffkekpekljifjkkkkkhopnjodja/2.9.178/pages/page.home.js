(function(){var a=devhd.pkg("pages");a.HomePage=function(f){this.guid=f};var e=a.HomePage.prototype=new a.BasePage();e.service=function(g,f){this.pageInfo=g;this.width=f.width;this.initBase(f);this.startRenderHTML()};e.destroy=function(g,f){this.destroyBase()};e.allowsSideArea=function(){return false};e.allowsPageHeader=function(){return false};e.startRenderHTML=function(){try{this.feedly.setNbrPages(1);
this.feedly.selectTab("#home");this.feedly.pushContext({uri:this.pageInfo.uri,pageNumber:0,title:this.title,level:0});this.feedly.setPageTitle("Explore");this.pageElem.innerHTML=templates.page.home.layout(this.width,this.home);this.bind(this.element("largeSearchBox"),"keypress",b);var f=this;this.bundles.askListPeopleBundles(null,function(h){if(f.isDestroyed()){return
}h=devhd.random.shuffle(h).slice(0,8);d.call(f,h,"people",2)});this.bundles.askListTwitteratiBundles(null,function(h){if(f.isDestroyed()){return}h=h.slice(0,4);d.call(f,h,"twitterati",1)});this.bundles.askListFeaturedBundles(null,function(h){if(f.isDestroyed()){return}c.call(f,h)})}catch(g){this.pageElem.innerHTML=devhd.utils.ExceptionUtils.formatError("layout home",g)
}};function d(f,k,j){var l=Math.ceil(f.length/j);for(var g=0;g<j;g++){var h=f.slice(g*l,(g+1)*l);if(this.element(k+(g+1))!=null){this.element(k+(g+1)).innerHTML=templates.page.base.bundles(h,this.home)}}}function c(h){var f=[];for(var j=0;j<h.length;j++){f.push({id:h[j].id,title:h[j].title,featured:true})}var g=devhd.random.shuffle(this.bundles.listSamples()).slice(0,18-h.length).sort();
for(var j=0;j<g.length;j++){f.push({id:g[j],title:g[j],featured:false})}f=f.sort(function(k,i){return devhd.utils.CompareUtils.compareStringProperty("title",k,i)});this.element("queries").innerHTML=templates.page.base.queries(f,this.home)}function b(f){if(f.keyCode==13&&f.target.value.length>0){this.explore()}}e.explore=function(){var f=this.element("largeSearchBox").value;
this.feedly.loadPage("explore/"+f)}})();