/*
 Copyright 2009 Google Inc.  All Rights Reserved.
 Your use of this software is subject to the Terms of Service located
 at https://chrome.google.com/extensions/intl/en/gallery_tos.html.
*/
var idcs_a=true,idcs_b=null,idcs_c=false,idcs_d=jQuery,idcs_e=document,idcs_f=chrome;function idcs_g(a,b){return a.offset=b}
var idcs_h="appendChild",idcs_i="push",idcs_j="slice",idcs_k="i18n",idcs_l="data",idcs_m="charAt",idcs_n="createTextNode",idcs_o="extension",idcs_p="insertBefore",idcs_q="attr",idcs_r="getMessage",idcs_s="offset",idcs_t="stop",idcs_="length",idcs_u="prototype",idcs_v="nextNode",idcs_w="next",idcs_x="count",idcs_y="call",idcs_z="start",idcs_A="apply",idcs_B="removeClass",idcs_C="postMessage",idcs_D="parentNode",idcs_E="connect",idcs_F="append";var idcs_G=function(a,b){this.buffer_=[];for(var c=this.tail_=this.head_=0;c<b+1;c++)this.buffer_[idcs_i]({character:"",node:idcs_b,offset:0});this.read_=-1;this.iterator_=a};idcs_G[idcs_u].next=function(){this.read_=(this.read_+1)%this.buffer_[idcs_];if(this.read_!=this.tail_)return idcs_a;else{var a=this.iterator_[idcs_w]();if(a){var b=this.buffer_[this.tail_];b.character=this.iterator_.character();idcs_g(b,this.iterator_[idcs_s]());b.node=this.iterator_.node();this.tail_=(this.tail_+1)%this.buffer_[idcs_]}return a}};
idcs_G[idcs_u].character=function(){return this.buffer_[this.read_].character};idcs_G[idcs_u].node=function(){return this.buffer_[this.read_].node};idcs_g(idcs_G[idcs_u],function(){return this.buffer_[this.read_][idcs_s]});idcs_G[idcs_u].count=function(){return this.iterator_[idcs_x]()};function idcs_H(a){var b=idcs_e.createTreeWalker(a,window.NodeFilter.SHOW_TEXT,idcs_b,idcs_c);for(a=[];b[idcs_v]();)a[idcs_i](b.currentNode);for(b=0;b<a[idcs_];b++){for(var c=a[b],d=c[idcs_l].match(idcs_I),e=c[idcs_D],g=0;g<d[idcs_];g++){var f=d[g];if(f[idcs_]<2||f[idcs_]>20||idcs_J(f[0]))e[idcs_p](idcs_e[idcs_n](f),c);else{var h=idcs_e.createElement("span");h.setAttribute("class","__gqs-nowrap");h[idcs_h](idcs_e[idcs_n](f[0]));h[idcs_h](idcs_e.createElement("img"));h[idcs_h](idcs_e[idcs_n](f.substring(1)));
e[idcs_p](h,c)}}e.removeChild(c)}}var idcs_I=/\s+|\S+/g,idcs_K=String.fromCharCode(160);function idcs_J(a){a=a.charCodeAt(0);return a>=97?a<=122?idcs_c:a>=128?idcs_c:idcs_a:a>=65?a<=90?idcs_c:idcs_a:a>=48&&a<=57?idcs_c:idcs_a}function idcs_L(a){var b=Array[idcs_u].splice[idcs_y](arguments,1,arguments[idcs_]);return Function[idcs_u].bind[idcs_A](a,b)};var idcs_M=function(a){this.iterator_=a;this.character_=idcs_b;this.returnedWhitespace_=idcs_a;this.lastNode_=idcs_b};
idcs_M[idcs_u].next=function(){for(;this.iterator_[idcs_w]();){if(this.node()!=this.lastNode_){for(;idcs_N(this,this.node());)if(!this.iterator_[idcs_v]())return idcs_c;this.lastNode_=this.node()}var a=this.iterator_.character(),b=a==" "||a=="\n"||a==idcs_K||a=="\r"||a=="\t";if(!this.returnedWhitespace_||!b){this.character_=(this.returnedWhitespace_=b)?" ":a=="\u2018"||a=="\u2019"?"'":a;return idcs_a}}return idcs_c};idcs_M[idcs_u].character=function(){return this.character_};idcs_M[idcs_u].node=function(){return this.iterator_.node()};
idcs_g(idcs_M[idcs_u],function(){return this.iterator_[idcs_s]()});idcs_M[idcs_u].count=function(){return this.iterator_[idcs_x]()};var idcs_N=function(a,b){return idcs_d(b[idcs_D]).is(":hidden")};var idcs_O=function(a,b){this.tidbit_=a;this.elements_=b};var idcs_P=this,idcs_Q=function(a,b){var c=b||idcs_P;if(arguments[idcs_]>2){var d=Array[idcs_u][idcs_j][idcs_y](arguments,2);return function(){var e=Array[idcs_u][idcs_j][idcs_y](arguments);Array[idcs_u].unshift[idcs_A](e,d);return a[idcs_A](c,e)}}else return function(){return a[idcs_A](c,arguments)}};Function[idcs_u].bind=function(a){if(arguments[idcs_]>1){var b=Array[idcs_u][idcs_j][idcs_y](arguments,1);b.unshift(this,a);return idcs_Q[idcs_A](idcs_b,b)}else return idcs_Q(this,a)};var idcs_R=function(a,b,c){this.walker_=b.createTreeWalker(c,a.NodeFilter.SHOW_TEXT||4,idcs_b,idcs_c);this.currentNode_=idcs_b;this.nodeOffset_=-1;this.charCount_=0};idcs_R[idcs_u].next=function(){if(this.currentNode_&&++this.nodeOffset_<this.currentNode_[idcs_]){this.charCount_++;return idcs_a}return this[idcs_v]()};
idcs_R[idcs_u].nextNode=function(){for(;this.walker_[idcs_v]();){this.currentNode_=this.walker_.currentNode;if(this.currentNode_[idcs_]>0){this.nodeOffset_=0;this.charCount_++;return idcs_a}}this.currentNode_=idcs_b;return idcs_c};idcs_R[idcs_u].character=function(){if(this.currentNode_==idcs_b)return idcs_b;return this.currentNode_[idcs_l][idcs_m](this.nodeOffset_)};idcs_R[idcs_u].node=function(){return this.currentNode_};idcs_g(idcs_R[idcs_u],function(){return this.nodeOffset_});
idcs_R[idcs_u].count=function(){return this.charCount_};var idcs_S=function(a,b,c){this.win_=a;this.document_=b;this.doneCallback_=c;this.htmlTidbits_=this.tidbits_=idcs_b;this.matchedTidbits_=[];this.startTime_=(new Date).getTime();this.pauseAtCharCount_=3E5},idcs_T=function(a,b){var c=a.tidbits_[b],d=idcs_L(a.foundFragments_,a,b),e=c[idcs_]+5+250;e=new idcs_G(new idcs_M(new idcs_R(a.win_,a.document_,a.document_.body)),e);a.findMatchingNodesInternal_(c,e,0,[],[],d)};
idcs_S[idcs_u].findMatchingNodesInternal_=function(a,b,c,d,e,g){for(;b[idcs_w]()&&c<a[idcs_];){for(var f=b.character();a[idcs_m](c)!=f&&idcs_J(a[idcs_m](c))&&c<a[idcs_]-1;)++c;if(c>5){if(a[idcs_m](c)!=f&&f=="(")a:{f=1;for(var h=0;b[idcs_w]();){var i=b.character();if(++h>=250){f=i;break a}if(i=="(")++f;else if(i==")"){--f;if(f==0){f=b[idcs_w]()?b.character():idcs_b;break a}}}f=idcs_b}for(h=0;a[idcs_m](c)!=f&&h<5&&b[idcs_w]();){f=b.character();h++}}if(a[idcs_m](c)!=f){c=idcs_U(d);if(c<15?idcs_c:c>idcs_U(e))e=
d[idcs_j]();b.read_=b.head_;b.head_=(b.head_+1)%b.buffer_[idcs_];c=d.length=0}else{if(d[idcs_]>0&&d[d[idcs_]-1].node==b.node())d[d[idcs_]-1].stop=b[idcs_s]();else d[idcs_i](new idcs_V(b.node(),b[idcs_s](),b[idcs_s]()));if(c==a[idcs_]-1){g(idcs_W(this,d));return}++c}if(b[idcs_x]()>=this.pauseAtCharCount_){if((new Date).getTime()-this.startTime_>5E3){g(idcs_b);return}"count at "+b[idcs_x]()+", sleeping...";this.pauseAtCharCount_+=3E5;this.document_.defaultView.setTimeout(idcs_L(this.findMatchingNodesInternal_,
this,a,b,c,d,e,g),150);return}}g(e[idcs_]>0?idcs_W(this,e):idcs_b)};var idcs_W=function(a,b){for(var c=[],d=0;d<b[idcs_];d++)b[d].node[idcs_l][idcs_j](b[d][idcs_z],b[d][idcs_t]+1).replace(/\s+/g," ")!=" "&&c[idcs_i](b[d]);return c},idcs_U=function(a){for(var b=0,c=0;c<a[idcs_];++c)b+=a[c][idcs_t]-a[c][idcs_z]+1;return b};
idcs_S[idcs_u].foundFragments_=function(a,b){if(b!=idcs_b){for(var c=this.document_,d=this.matchedTidbits_[idcs_],e=new Array(b[idcs_]),g=0;g<b[idcs_];++g){var f=g,h=b[g],i=h.node,k=i[idcs_D];if(h[idcs_z]>0){var j=i[idcs_l][idcs_j](0,h[idcs_z]);k[idcs_p](c[idcs_n](j),i)}if(h[idcs_t]<i[idcs_l][idcs_]-1){j=i[idcs_l][idcs_j](h[idcs_t]+1);j=c[idcs_n](j);i[idcs_D][idcs_p](j,i.nextSibling)}j=c.createElement("span");j.setAttribute("class","__gqs-tidbit __gqs-tidbit-"+d);h=h.node[idcs_l][idcs_j](h[idcs_z],
h[idcs_t]+1);j[idcs_h](c[idcs_n](h));k.replaceChild(j,i);e[f]=j}this.matchedTidbits_[idcs_i](new idcs_O(this.htmlTidbits_[a],e))}c=(new Date).getTime()-this.startTime_;a<this.tidbits_[idcs_]-1&&c<5E3?idcs_T(this,a+1):this.doneCallback_(this.result_,this.matchedTidbits_)};var idcs_V=function(a,b,c){this.node=a;this.start=b;this.stop=c};function idcs_X(a,b,c){var d=idcs_f[idcs_o][idcs_E]({name:"log-event"});a={result:a,action:b};if(c)a.params=c;d[idcs_C](a)}function idcs_Y(a){var b=idcs_d(a);if(!b.get(0)[idcs_D])return idcs_c;var c=b[idcs_s]().top-20;idcs_d("body")[idcs_t]();idcs_d("body").animate({scrollTop:c},"normal","swing",function(){idcs_e.body.scrollTop!=c&&b.get(0).scrollIntoView()});return idcs_a}function idcs_Z(a){return"url("+idcs_f[idcs_o].getURL("/images/"+a)+")"}
function idcs__(a,b,c){a.css("background-image",idcs_Z(b));a.mouseover(function(){$("body").hasClass("__gqs-closed")||$(this).css("background-image",idcs_Z(c))});a.mouseout(function(){$("body").hasClass("__gqs-closed")||$(this).css("background-image",idcs_Z(b))})};var idcs_1=function(a,b,c){var d=idcs_d('<div id="__gqs-box-help" />');idcs__(d,"help.png","help_on.png");d[idcs_q]("title",idcs_f[idcs_k][idcs_r]("qs_tidbit_box_help_tooltip"));d.click(function(){var h=idcs_f[idcs_o].getURL("about.html");idcs_f[idcs_o][idcs_E]({name:"open-link"})[idcs_C]({url:h})});var e=idcs_d('<div id="__gqs-box-toggle" />');idcs__(e,"minimize.png","minimize_on.png");e[idcs_q]("title",idcs_f[idcs_k][idcs_r]("qs_tidbit_box_minimize_tooltip"));e.click(idcs_L(this.toggleGQS,this));
var g=idcs_d('<div id="__gqs-box-info" />');g.html(idcs_f[idcs_k][idcs_r]("qs_tidbit_box_matches"));g.css("background-image",idcs_Z("icon16x16.png"));g.find(".__gqs-query").text(a.query||"");this.tidbitsDiv_=idcs_d('<div id="__gqs-box-tidbits" />');for(var f=0;f<b[idcs_];f++)idcs_0(this,b[f],f);b=idcs_d('<div id="__gqs-wrapper" />');b[idcs_F](e);b[idcs_F](d);b[idcs_F](g);b[idcs_F](this.tidbitsDiv_);d=idcs_d('<div id="__gqs-tidbit-box" />');a.seen||d.addClass("__gqs-slideup");d[idcs_F](b);c||idcs_H(d.get(0));
this.div_=d;this.result_=a},idcs_0=function(a,b,c){var d=idcs_d('<div class="__gqs-box-tidbit" />');a.tidbitsDiv_[idcs_F](d);var e=b.tidbit_;e=e.replace(/([^\.])$/,"$1...");d.html(e+'<span class="__gqs-go"> &raquo;</span>');d[idcs_q]("title",idcs_f[idcs_k][idcs_r]("qs_tidbit_box_tidbit_tooltip"));d.click(idcs_L(a.goToTidbit,a,b,c,d));return d.get(0)};idcs_1[idcs_u].get=function(){return this.div_};
idcs_1[idcs_u].toggleGQS=function(){idcs_d("body").toggleClass("__gqs-closed");idcs_d("#__gqs-tidbit-box")[idcs_B]("__gqs-slideup");var a=idcs_d("body").hasClass("__gqs-closed"),b=a?idcs_f[idcs_k][idcs_r]("qs_tidbit_box_restore_tooltip"):idcs_f[idcs_k][idcs_r]("qs_tidbit_box_minimize_tooltip"),c=a?"closed":"opened";idcs_d("#__gqs-box-toggle")[idcs_q]("title",b);idcs_d("#__gqs-box-toggle").css("background-image",idcs_Z(a?"icon16x16.png":"minimize.png"));if(a){idcs_d(".__gqs-tidbit-hilite")[idcs_B]("__gqs-tidbit-hilite");
idcs_d(".__gqs-box-tidbit-selected")[idcs_B]("__gqs-box-tidbit-selected")}idcs_d("#__gqs-tidbit-box").show();idcs_f[idcs_o][idcs_E]({name:"minimized-state"})[idcs_C]({result:this.result_,minimized:a});idcs_X(this.result_,c)};
idcs_1[idcs_u].goToTidbit=function(a,b,c){idcs_d(".__gqs-tidbit-hilite")[idcs_B]("__gqs-tidbit-hilite");a="body .__gqs-tidbit-"+b;idcs_Y(a);idcs_d(a).addClass("__gqs-tidbit-hilite");idcs_d(".__gqs-box-tidbit-selected")[idcs_B]("__gqs-box-tidbit-selected");c.addClass("__gqs-box-tidbit-selected");idcs_X(this.result_,"go-to-tidbit",{index:b})};(function(){function a(c,d){var e=idcs_f[idcs_o][idcs_E]({name:"found-tidbits"}),g={result:c};if(c&&d&&d[idcs_]>0){b=new idcs_1(c,d);idcs_d("body")[idcs_F](b.get());if(c.hasEbmTidbits)c.minimized&&b.toggleGQS();else{b.toggleGQS();idcs_d("#__gqs-tidbit-box").hide()}g.foundTidbits=idcs_a;g.logParams={num:d[idcs_]};if(c.tidbits[idcs_]!=d[idcs_])g.logParams.expected=c.tidbits[idcs_]}else g.foundTidbits=idcs_c;e[idcs_C](g)}var b;(function(){var c=window.qs_result;if(c)if(c.href==idcs_e.location.href){var d=
new idcs_S(window,idcs_e,idcs_L(a,this));d.tidbits_=c.tidbits;d.htmlTidbits_=c.htmlTidbits;d.result_=c;d.tidbits_[idcs_]==0?d.doneCallback_(c,[]):idcs_T(d,0)}})();idcs_f[idcs_o].onRequest.addListener(function(c){c.toggle&&b&&b.toggleGQS()})})();
