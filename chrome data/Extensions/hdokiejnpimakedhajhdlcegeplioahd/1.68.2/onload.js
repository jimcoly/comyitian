var g_port=null;var g_foundmanual=false;var LP_last_form=null;var g_docnum=null;var lpsavedform=null;var lpsavedformfields=new Array();var lpsharedpasswordfills=new Array();var g_fillaid=null;var g_setup_hotkey_handler=false;var curr_notification_type="";var lpgenpassforms=new Array();var lpgenpasscurrentpwfields=new Array();
var g_sites=new Array();var g_formfills=new Array();function onLoad(){g_port=chrome.extension.connect({name:document.location.href});g_port.onMessage.addListener(receiveBG);g_port.onDisconnect.addListener(function(A){receiveBG(null,A,1)})}var g_lp_hotkeys=new Array("generateHk","recheckHk","searchHk","nextHk","prevHk","homeHk","submitHk","saveallHk","logoffHk","defaultffidHk");
var g_hotkey_data=new Array();function handle_hotkey(D){var A=D.keyCode!=0?D.keyCode:D.charCode;if(A<32){return}var B="";B+=(D.ctrlKey?"control":"");B+=(D.metaKey?(B!=""?" ":"")+"meta":"");B+=(D.altKey?(B!=""?" ":"")+"alt":"");B+=(D.shiftKey?(B!=""?" ":"")+"shift":"");if(B==""||B=="shift"){return}var E=new Array();
for(var C=0;C<g_lp_hotkeys.length;C++){var F=g_lp_hotkeys[C];if(g_hotkey_data[F+"KeyCode"]==A&&g_hotkey_data[F+"Mods"]==B){sendBG({cmd:"runhotkey",hotkey:F});break}}}function disconnectBG(){if(g_port){g_port.disconnect();g_port=null}}function sendBG(A){if(!g_port){L("CS -> BG : FAILED "+A.cmd);return
}A.docnum=g_docnum;g_port.postMessage(A)}var g_form=null;var g_fillreqdocs=new Array();function receiveBG(E,B,A){if(A){L("BG -> CS : DISCONNECT");g_port=null;return}if(typeof(E.cmd)=="undefined"){L("BG -> CS : INVALIDMSG");return}switch(E.cmd){case"setdocnum":g_docnum=E.docnum;sendBG({cmd:"getprefs"});
evalScriptsInFrame(window,document);break;case"plug2web":g_form.eventdata1.value=E.username;g_form.eventdata2.value=E.key;g_form.eventdata3.value=E.version;g_form.eventdata4.value=E.identity;setTimeout(function(){evaluntilfindmanual()},500);break;case"fillfield":fillfield(E);break;case"fillbest":fillbest(E);
break;case"submit":submit(E);break;case"fillform":fillform(E);break;case"clearforms":lpClearForms(null,document,1,window);break;case"saveall":saveall();break;case"setprefs":lpdisableHighlightField=E.highlightFields==0;lpwarninsecureforms=E.warninsecureforms;lpdontfillautocompleteoff=E.dontfillautocompleteoff;
lpdonotoverwritefilledfields=E.donotoverwritefilledfields;lpOfferGeneratePasswd=E.showGenerateNotifications;lpShowFormFillNotifications=E.showFormFillNotifications;lpNotificationsAfterClick=E.showNotificationsAfterClick;alwayschooseprofilecc=E.alwayschooseprofilecc;automaticallyFill=E.automaticallyFill;
var C=false;for(var D=0;D<g_lp_hotkeys.length;D++){var F=g_lp_hotkeys[D];if(E[F+"KeyCode"]!=0){C=true}g_hotkey_data[F+"KeyCode"]=E[F+"KeyCode"];g_hotkey_data[F+"Mods"]=E[F+"Mods"]}if(C&&!g_setup_hotkey_handler){g_setup_hotkey_handler=true;window.addEventListener("keydown",function(G){handle_hotkey(G)
},false)}break;case"setuuid":g_form.eventdata1.value=E.uuid;break;case"recover":g_form.eventdata2.value=E.otp;break;case"recheck":evalScriptsInFrame(window,document,true);break;case"loadurl":document.location.href=E.url;break;case"setupmultifactor":g_form.eventdata3.value=E.result;break;case"setupsinglefactor":g_form.eventdata4.value=E.result;
break;case"checkmultifactorsupport":g_form.eventdata4.value=E.type;g_form.eventdata3.value=E.result;break;case"multifactorauth":g_form.eventdata5.value=E.multifactorresponse;g_form.eventdata3.value=E.result;break;case"showfillnotification":lpshownotification("fill",E);break;case"showaddnotification":lpshownotification("add",E);
break;case"showchangenotification":lpshownotification("change",E);break;case"closenotification":lpclosenotification();break;case"checkgenpwfillforms":checkgenpwfillforms(E);break;case"fillcurrent":fillcurrent(E);break;case"checkgeneratepassword":if(lpCheckGeneratePassword(null,document,true,window)){sendBG({cmd:"generatepasswordfound"})
}break;case"populategeneratedpassword":if(E.url==document.location.href){populategeneratedpassword(E.url,E.password,E.nofill)}break;default:L("BG -> CS : INVALIDMSG");return;break}}function fillcurrent(A){if(typeof(lpgenpasscurrentpwfields[document.location.href])!="undefined"&&lpgenpasscurrentpwfields[document.location.href]){lpgenpasscurrentpwfields[document.location.href].value=A.password
}}function checkgenpwfillforms(B){var A=null;g_sites=B.sites;g_formfills=B.formfills;if(!B.nevergenerate){A=lpCheckGeneratePassword(null,document,false,window)}if(!A&&!B.neverformfill){lpCheckFormFill(null,document,false,false,null,1,window)}}function evalScriptsInFrame(F,E,D){for(var C=0;E.frames&&C<E.frames.length;
C++){evalScriptsInFrame(E.frames[C],E.frames[C].document,D)}var B=E.location.href;var A=E.readyState;if(D||A=="loaded"||A=="complete"){if(E.body&&typeof(E.body._lpcrdone)=="undefined"){E.body._lpcrdone=1;hookAllFormSubmits(E)}else{if(!D){return}}}else{return}D=(D?1:0);sendBG({cmd:"fill",url:E.location.href,docid:g_fillreqdocs.length,force:D});
g_fillreqdocs[g_fillreqdocs.length]=E}function hookAllFormSubmits(G){try{if(lp_gettld_url(G.location.href)!="acidtests.org"&&G.getElementById("hiddenlpsubmitdiv")==null&&G.forms.length>0){var H=G.createElement("div");H.style.display="none";H.id="hiddenlpsubmitdiv";if(G.body){G.body.appendChild(H)}var A='for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ d.innerText=i; } } d.dispatchEvent(customEvent); form.lpsubmitorig2(); } } }';
run_custom_js(G,A);H.addEventListener("lpCustomEvent",function(){handle_form_submit(G,G.forms[parseInt(H.innerText)])})}for(var E=0;E<G.forms.length;E++){var D=G.forms[E];if(typeof(D.lpsubmitorig)=="undefined"){if(D.name=="lpmanualform"){g_foundmanual=true}D.lpsubmitorig=true;D.addEventListener("submit",function(I){handle_form_submit(G,I.target)
},false);if(typeof(D.elements)!="function"){for(var C=0;C<D.elements.length;C++){var B=D.elements[C];if(B.type=="text"||B.type=="password"){B.addEventListener("change",lpfieldchange,false)}}}}}}catch(F){}}function handle_form_submit(D,A){try{if(A.name=="lpwebsiteeventform"){lpwebsiteevent(D,A)}else{if(A.name=="lpmanualform"){lpmanuallogin(D,A)
}else{var C=LP_get_form_save(A);if(C==null){return false}if(typeof(D.LPlpsaveforminfo)!="undefined"){lpupdatefields(D,C)}else{lpformsubmit(D,C)}}}}catch(B){}}function lpupdatefields(B,A){sendBG({cmd:"updatefields",url:B.location.href,formdata:A,aid:B.LPlpsaveforminfo})}function lpformsubmit(B,A){sendBG({cmd:"save",url:B.location.href,formdata:A})
}function lpmanuallogin(B,A){sendBG({cmd:"launchautologin",url:B.location.href,aid:A.aid.value})}function lpwebsiteevent(B,A){sendBG({cmd:"log",msg:"Event: "+A.eventtype.value});if(A.eventtype.value=="keyplug2web"){g_form=A;sendBG({cmd:"plug2web",url:B.location.href,username:A.eventdata1.value})}else{if(A.eventtype.value=="keyweb2plug"){sendBG({cmd:"web2plug",url:B.location.href,key:A.eventdata1.value,username:A.eventdata2.value,rsa:A.eventdata3.value})
}else{if(A.eventtype.value=="logoff"){sendBG({cmd:"logoff",url:B.location.href})}else{if(A.eventtype.value=="login"){sendBG({cmd:"login",url:B.location.href,wxusername:A.eventdata1.value,keyhex:A.eventdata2.value,wxhash:A.eventdata3.value,wxsessid:A.eventdata5.value})}else{if(A.eventtype.value=="clearcache"){sendBG({cmd:"clearcache",url:B.location.href})
}else{if(A.eventtype.value=="recover"){g_form=A;sendBG({cmd:"recover",url:B.location.href,username:A.eventdata1.value})}else{if(A.eventtype.value=="refresh"){sendBG({cmd:"refresh",url:B.location.href,from:A.eventdata1.value,type:A.eventdata2.value})}else{if(A.eventtype.value=="switchidentity"){sendBG({cmd:"switchidentity",url:B.location.href,iid:A.eventdata1.value})
}else{if(A.eventtype.value=="getuuid"){g_form=A;sendBG({cmd:"getuuid"})}else{if(A.eventtype.value=="setupmultifactor"){A.eventdata3.value="working";g_form=A;sendBG({cmd:"setupmultifactor",type:A.eventdata1.value,username:A.eventdata2.value})}else{if(A.eventtype.value=="setupsinglefactor"){if(A.eventdata5.value!="1"){A.eventdata4.value="working"
}g_form=A;sendBG({cmd:"setupsinglefactor",type:A.eventdata1.value,username:A.eventdata2.value,password:A.eventdata3.value,silent:A.eventdata5.value})}else{if(A.eventtype.value=="checkmultifactorsupport"){g_form=A;sendBG({cmd:"checkmultifactorsupport",type:A.eventdata1.value})}else{if(A.eventtype.value=="multifactorauth"){A.eventdata3.value="working";
g_form=A;sendBG({cmd:"multifactorauth",type:A.eventdata1.value,username:A.eventdata2.value,challenge:A.eventdata4.value})}}}}}}}}}}}}}}function run_custom_js(E,A){try{if(A!=""){A=A.replace(/lpcurrpage./g,"");A="try{"+A+"}catch(e){}";var B=E.createElement("script");var C=E.createTextNode(A);B.appendChild(C);
if(E.body){E.body.appendChild(B)}}}catch(D){}}function lpPrepareCustomJS(D,B,I,E,C,H){if(E=="3"){if(D.indexOf("lpcurruser")!=-1){if(!H.getElementById("lpcurruserelt")){if(H.body){var A=H.createElement("input");A.setAttribute("style","display: none;");A.setAttribute("type","text");A.setAttribute("id","lpcurruserelt");
A.setAttribute("value","");H.body.appendChild(A)}}if(H.getElementById("lpcurruserelt")){H.getElementById("lpcurruserelt").value=B}}if(D.indexOf("lpcurrpass")!=-1){if(!H.getElementById("lpcurrpasselt")){if(H.body){var F=H.createElement("input");F.setAttribute("style","display: none;");F.setAttribute("type","password");
F.setAttribute("id","lpcurrpasselt");F.setAttribute("value","");H.body.appendChild(F)}}if(H.getElementById("lpcurrpasselt")){H.getElementById("lpcurrpasselt").value=I}}}var G="if (typeof(lpcurruser) == 'undefined') lpcurruser = ''; if (document.getElementById('lpcurruserelt') && document.getElementById('lpcurruserelt').value != '') { lpcurruser = document.getElementById('lpcurruserelt').value; document.getElementById('lpcurruserelt').value = ''; } if (typeof(lpcurrpass) == 'undefined') lpcurrpass=''; if (document.getElementById('lpcurrpasselt') && document.getElementById('lpcurrpasselt').value != '') { lpcurrpass = document.getElementById('lpcurrpasselt').value; document.getElementById('lpcurrpasselt').value = ''; } var lploc="+es(E)+";"+(C==1?"var lponlyfill=1;":"var lponlyfill=null;")+D+"lpcurruser = ''; lpcurrpass = '';";
G=G.replace(/lpcurrpage\./g,"");G=G.replace(/lpframe1\./g,"");G=G.replace(/lpframe2\./g,"");G=G.replace(/lpframe3\./g,"");return G}var firstfill=true;function fillfield(G){var I=G.docid?g_fillreqdocs[G.docid]:document;var D=typeof(G.doconfirm)!="undefined"?G.doconfirm:false;var B=typeof(G.allowforce)!="undefined"?G.allowforce:0;
var C=typeof(G.aid)!="undefined"?G.aid:0;var A=typeof(G.tabid)!="undefined"?G.tabid:0;var H=typeof(G.custom_js)!="undefined"?G.custom_js:"";var J=typeof(G.manualfill)!="undefined"?G.manualfill:false;var F=typeof(G.username)!="undefined"?G.username:"";var K=typeof(G.password)!="undefined"?G.password:"";
var E=typeof(G.onlyfill)!="undefined"?G.onlyfill:false;if(firstfill){if(H!=""){run_custom_js(I,lpPrepareCustomJS(H,F,K,"1",E,I));run_custom_js(I,lpPrepareCustomJS(H,F,K,"2",E,I))}}if(G.highlight==0){lpdisableHighlightField=1}var M=LP_setval(I,G.name,G.value,G.checked,G.aid,G.formname,G.type,G.sharedsite);
if(M){g_fillaid=C}if(firstfill){if(H!=""){run_custom_js(I,lpPrepareCustomJS(H,F,K,"3",E,I))}firstfill=false}if(D){sendBG({cmd:"fillfieldconfirm",manualfill:J,url:I.location.href,result:M,aid:C,docid:G.docid,tabid:A,allowforce:B})}}function fillbest(B){var C=B.docid?g_fillreqdocs[B.docid]:document;if(B.highlight==0){lpdisableHighlightField=1
}var A=typeof(B.custom_js)!="undefined"?B.custom_js:"";run_custom_js(C,A);LP_setval_bestmatch(C,B.username,B.password,B.aid,B.updatefields,B.sharedsite)}function submit(A){var B=A.docid?g_fillreqdocs[A.docid]:document;if(LP_last_form!=null){LP_doSubmit(B,LP_last_form,A.submit_id)}}function fillform(data){var doc=data.docid?g_fillreqdocs[data.docid]:document;
LP_to_formfill=eval("("+data.toformfill+")");LP_form_fill()}function saveall(){var A="";if(typeof(document.location)!="undefined"){A=document.location.href}sendBG({cmd:"saveall",addsite:1,url:A,formdata:LP_get_form_save_all()})}function LP_truncate_text_if(A){if(typeof(A)=="string"&&A.length>45000){A=A.substring(0,45000)
}return A}function LP_en(A){return encodeURIComponent(A)}function LP_getname(B,A){if(A&&typeof(B.id)!="undefined"&&B.id!=""){return B.id}if(typeof(B)!="undefined"&&B!=null){if(typeof(B.name)=="string"&&B.name!=""){return B.name}else{if(typeof(B.id)!="undefined"){return B.id}}}return""}function LP_getform_for_input(G,F){var A=G.getElementsByTagName("form");
for(var E=0;E<A.length;E++){var D=A[E].elements;for(var C=0;C<D.length;C++){var B=D[C];if(F==B){LP_last_form=A[E];return A[E]}}}}function LP_setval(I,B,J,G,H,E,K,A){var D=I.getElementsByTagName(K=="select-one"?"select":(K=="textarea"?"textarea":"input"));var M=false;for(var C=0;C<D.length;C++){var F=D[C];
if(LP_getname(F)==B){if(E!=""&&(typeof(F.form)=="undefined"||!F.form||LP_getname(F.form)!=E)){continue}if("password"==F.type||"text"==F.type||"textarea"==F.type||"select-one"==F.type){if(F.form&&!lpCheckWarnInsecure(F.form,F.form.ownerDocument,false)){return false}if(K=="password"&&F.type!="password"){return false
}if(A&&K=="password"){lpsharedpasswordfills[lpsharedpasswordfills.length]=F}F.value=J;lphighlightField(F);LP_getform_for_input(I,F);M=true}else{if("radio"==F.type){if(F.value==J){F.checked=G;M=true}}else{if("checkbox"==F.type){F.checked=G;M=true}}}}}return M}function LP_force(F,B){var A=document.getElementsByTagName("form");
for(var E=0;E<A.length;E++){var D=A[E].elements;for(var C=0;C<D.length;C++){var G=D[C];if(("password"==G.type&&"password"==F)||("text"==G.type&&"text"==F)){G.value=B;LP_last_form=A[E];return A[E]}}}}function LP_setval_bestmatch(U,G,J,S,A,C){var M=null;var K=0,H=0;var E=null,T=null;var B=U.getElementsByTagName("form");
for(var P=0;P<B.length;P++){var R=B[P].elements;var F=0,I=0;var O=null,D=null;for(var N=0;N<R.length;N++){var Q=R[N];if(Q.type=="text"){if(F==0){O=LP_getname(Q)}F++}if(Q.type=="password"){if(I==0){D=LP_getname(Q)}I++}}if(I==1){if(!M||(F==1&&K!=1)){K=F;H=I;M=B[P];E=O;T=D}}}if(M){if(E){LP_setval(U,E,G,0,S,LP_getname(M),"",C)
}LP_setval(U,T,J,0,S,LP_getname(M),"",C);if(A){U.LPlpsaveforminfo=S}}}function lpCheckWarnInsecure(B,C,A){if(B){if(!A&&(typeof(lpdontfillautocompleteoff)!="undefined"&&lpdontfillautocompleteoff)){if(B.getAttribute("autocomplete")=="off"){return null}}if(typeof(lpwarninsecureforms)!="undefined"&&lpwarninsecureforms){if((B.method&&B.method.toUpperCase()=="GET")||(typeof(B.action)=="string"&&B.action.indexOf("mailto:")==0)){if(A){if(!confirm(gs("LastPass detected a login form that is insecure.\n\nWould you like to continue?"))){return null
}}else{if(typeof(C.m_warnedUserThisPage)=="undefined"){if(confirm(gs("LastPass detected a login form that is insecure.\n\nWould you still like LastPass to fill the form?"))){C.m_warnedUserThisPage=1}else{C.m_warnedUserThisPage=2;return null}}else{if(C.m_warnedUserThisPage==2){return null}}}}}}return B
}function lphighlightField(H,F){if(typeof(lpdisableHighlightField)!="undefined"&&lpdisableHighlightField){return}if(H.type!="text"&&H.type!="password"){return}var E=false;if(typeof(F)=="undefined"){E=F=true}var D=H.style.width.replace(/px/,"");if(D==""){try{var C=H.ownerDocument.defaultView.getComputedStyle(H,"");
D=C.width.replace(/px/,"")}catch(G){}}if(D>0&&D<30){return}var A=H.style.backgroundImage;if(A==""){try{var C=H.ownerDocument.defaultView.getComputedStyle(H,"");A=C.backgroundImage}catch(G){}}if(A=="none"){A=""}if(A==""){H.style.backgroundImage=F?"url(data:image/gif;base64,R0lGODlhEAAQAPZVADsBAkECBFEGCmQDBGoEB3UIDWcOEn0dHnZGRnhBQntbXIILEoIMEoENFI8QGI0UHJMQGKERGqURGq4QGIsaIZ4fJq8WI68YJrQXJLIZJbgZJ7gZKLwcK74dLa4gKq4iLLUgLaApMLwpNrwsOKUzOcAfL8EhMcUjM8YkNMgoOJw+QKY8QtA5Sdo/T6dARa5FS6tOUr9MUqRRVrRVWY9pa5BmaZBqbMRKVNlRYclud/14iLyIiKuoqNGbneyPmfOAkPeElNGvsNO3t+aorfGjq+y/w8zMzNXU1N3S0t7W1t3a2uLR0e3U1vLd4OLh4ejo6Png4/bx8ff09Pr5+f7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAFYALAAAAAAQABAAAAfEgFaCVlCFhoWDgzk6QD+Oj0A6OYMyLSwdJR2amywtMoITKZgbFRsYIRqaKROCEpgZO1IkMFM7GJgSghGZKEVVQktVQyclJRG6JR8uM1NVVVEvKx7GyDHO11VUVTHUVgEECUlIR+RHSUoJBAGCAAMHKgpO8koIKgcDAIICCwwGRk89gjzhUYABAwGCGly4IIIIkxE3mvgAkeFCA0EPMBQ7gcNEio7FMDwQVAOCBQ6bNnGwAKHGIBoUHMicKZOCjUQ4cw4KBAA7)":""
}else{E=false}var B=H.offsetWidth;if(A==""){H.style.paddingRight=F?"18px":"0px";H.style.backgroundRepeat="no-repeat";H.style.backgroundAttachment="scroll";H.style.backgroundPosition="center right"}H.style.border="1px solid #c01f2f";if(B>0){H.style.width=B+"px";H.style.width=(2*B-H.offsetWidth)+"px"}if(E&&B>0&&B<54){H.addEventListener("focus",function(I){lphighlightField(H,false)
},false);H.addEventListener("blur",function(I){lphighlightField(H,true)},false)}}function LP_fireEvent(B,D,C){if(!C){C="HTMLEvents"}if(document.createEventObject){var A=document.createEventObject();return B.fireEvent("on"+D,A)}else{var A=document.createEvent(C);A.initEvent(D,true,true);return !B.dispatchEvent(A)
}}function LP_doSubmit(I,F,J){var M=0;var H=I;if(J!=""){var B=H.getElementById(J);if(!B){var A=H.getElementsByName(J);if(A&&A.length>0){B=A[0]}}if(!B){var N=H.getElementsByTagName("INPUT");if(N){for(var D=0;D<N.length;D++){if(N[D].value==J){B=N[D]}}}}if(!B){var N=H.getElementsByTagName("A");if(N){for(var D=0;
D<N.length;D++){if(N[D].href==J){B=N[D]}}}}if(B){LP_fireEvent(B,"click","MouseEvents");M=1}}if(!M){M=InputClickToSubmit(I,F,"submit")}if(!M){M=InputClickToSubmit(I,F,"image")}if(!M){M=InputClickToSubmit(I,F,"button")}if(!M){var C=lp_gettld_url(I.location.href);if(C!="bankofamerica.com"){try{LP_fireEvent(F,"submit")
}catch(G){}try{F.submit()}catch(G){return G.toString()}}var E=null;var N=I.getElementsByTagName("INPUT");if(N){for(var D=0;D<N.length;D++){if(N[D].type=="password"){E=N[D]}}}if(E){E.focus();var K=I.createEvent("KeyboardEvent");K.initKeyboardEvent("keypress",true,true,top,"Enter",0,false,false,false,false)
}}}function InputClickToSubmit(C,E,A){var D=C.getElementsByTagName("input");var F=0;for(var B=0;B<D.length;B++){if(D[B].form==E){if("password"==D[B].type&&D[B].value!=""){F=1}else{if(A==D[B].type){if(F){D[B].click();return 1}}}}}if(A=="button"){var D=C.getElementsByTagName("button");for(var B=0;B<D.length;
B++){if(D[B].form==E){if("button"==D[B].type||"submit"==D[B].type||"image"==D[B].type){if(F){D[B].click();return 1}}}}}return 0}function LP_get_form_save_all(){var F="";var B=document.getElementsByTagName("form");for(var C=0;C<B.length;C++){F+=LP_get_form_save(B[C],true)}var D="";var A=document.getElementsByTagName("input");
for(var C=0;C<A.length;C++){if(A[C].form==null){var G={};var E={};D+=LP_get_field_text("",A[C],G,E)}}if(D!=""){D+="0\taction\t\taction\n";D+="0\tmethod\t\tmethod\n";F+=D}return F}function LP_get_form_save(D,B){var F="";var G={};G.value=0;var A=D.elements;var E={};E.value=false;for(var C=0;C<A.length;
C++){F+=LP_get_field_text(LP_getname(D),A[C],G,E,B)}if(E.value&&!lpCheckWarnInsecure(D,D.ownerDocument,true)){return null}F+="0\taction\t"+LP_en(D.action)+"\taction\n";F+="0\tmethod\t"+LP_en(D.method)+"\tmethod\n";if(G.value){return F}return""}function LP_get_field_text(K,P,A,E,M){var D="";var B=LP_getname(P);
var N=P.type;var C=P;var F=LP_truncate_text_if(P.value);if(M&&F==""&&P.name&&P.name!=""){var O=document.getElementsByName(P.name);for(var H=0;H<O.length;H++){if(LP_getname(O[H].form)==K&&LP_getname(O[H])==B&&O[H].type==N&&O[H].value!=""){return""}}}if(N=="password"){E.value=true}if("password"==N||"text"==N||"textarea"==N||"hidden"==N){if("hidden"!=N){A.value=1
}if(!M&&lpsavedform==C.form){for(var I=0;I<lpsavedformfields.length;I++){if(lpsavedformfields[I].name==LP_getname(C)){if(lpsavedformfields[I].value!=F){if(F==""||F.match(/^\*+$/)){F=lpsavedformfields[I].value}else{if(F.length==lpsavedformfields[I].value.length){var J=true;for(var H=0;H<F.length;H++){if(F.charAt(H)!=lpsavedformfields[I].value.charAt(H)&&F.charAt(H)!="*"){J=false;
break}}if(J){F=lpsavedformfields[I].value}}}}break}}}if(N=="password"){for(var I=0;I<lpsharedpasswordfills.length;I++){if(lpsharedpasswordfills[I]==C){F="";break}}}D+=K+"\t"+LP_en(B)+"\t"+LP_en(F)+"\t"+LP_en(N)+"\n"}else{if("checkbox"==N||"radio"==N){F+=P.checked?"-1":"-0";D+=K+"\t"+LP_en(B)+"\t"+LP_en(F)+"\t"+LP_en(N)+"\n"
}else{if("select-one"==N||"dropdown"==N||"select-multiple"==N){if(N=="select-multiple"){F="";var Q="";for(var G=0;G<C.options.length;G++){if(C.options[G].selected){F+=Q+LP_en(iel.options[G].value);Q="|"}}}else{if(C.selectedIndex<0||C.selectedIndex>=C.options.length||typeof(C.options[C.selectedIndex])=="undefined"){F=""
}else{F=C.options[C.selectedIndex].value}}D+=K+"\t"+LP_en(B)+"\t"+LP_en(F)+"\t"+LP_en(N)+"\n"}else{if("image"==N){F=C.src;D+=K+"\t"+LP_en(B)+"\t"+LP_en(F)+"\t"+LP_en(N)+"\n"}}}}return D}function evaluntilfindmanual(){if(!g_foundmanual){var B=top.document;hookAllFormSubmits(B);for(var A=0;B.frames&&A<B.frames.length;
A++){hookAllFormSubmits(B.frames[A].document)}top.setTimeout(function(){evaluntilfindmanual()},500)}}function lpfieldchange(A){var E=A?A.target:this;if(E.form){lpsavedform=E.form;var B=E;if(LP_getname(B)!=""&&(B.type=="text"||B.type=="password")){var D=false;for(var C=0;C<lpsavedformfields.length;C++){if(lpsavedformfields[C].formname==LP_getname(lpsavedform)&&lpsavedformfields[C].name==LP_getname(B)){lpsavedformfields[C].value=B.value;
D=true;break}}if(!D){var F=new Object();F.name=LP_getname(B);F.type=B.type;F.value=B.value;F.formname=LP_getname(lpsavedform);lpsavedformfields[lpsavedformfields.length]=F}}}}function addStyle(){var B=document.createElement("style");B.type="text/css";var A=document.createTextNode(" #lastpass-notification { height: 13px;padding: 7px 10px;text-align: left;position: relative;font-family: Arial,Helvetica,Garuda,sans-serif;;font-size: 11px;z-index: 12345;color: black;vertical-align: top;} #lastpass-content {display: inline;  padding-left: 5px;vertical-align: top;text-align: left;} .lppopup {position: absolute;border: 1px solid black;z-index: 99999;background: #fff;overflow: auto;x: 0px;y: 0px;width: 300px;height: 200px;display: none;} .lppopup tr:hover {background-color: #c9cdec;} .lppopup tr {background-color: #fff;} .lppopup td {font-size: 10px;font-family: Arial,Helvetica,Garuda,sans-serif;color: black;cursor: default;} .lpbutton {border-width: 1px;font-size: 11px;font-family: Arial,Helvetica,Garuda,sans-serif;float: right; margin-top: -4px;margin-right: 5px;padding-right: 5px;padding-left: 5px;border: outset 2px;color: black;background-color: #f0f0f0;} .lpbutton:hover {background-color: #e4e6f8;} #lastpass-notification img {margin: 0px 0px 0px 0px;padding: 0px 0px 0px 0px;} ");
B.appendChild(A);if(document.head){document.head.appendChild(B)}else{document.body.appendChild(B)}}function lpshownotification(H,C){try{if(document.getElementById("lastpass-notification")){return}if(window!=top){return}var F=document.body;if(!F){return}if(typeof(C.docnum)!="undefined"&&g_docnum!=C.docnum){return
}var I=true;if(H=="fill"){if(!checkForLoginForm(document)){I=false}else{var E=getAutoFillArray(C.sites);if(getcount(E)==1){for(var D in E){I=typeof(E[D]["fields"])=="undefined"||getcount(E[D]["fields"])==0||!canFindForm(E[D]["fields"])||!g_fillaid;break}}}if(g_fillaid==null){C.text=gs("Simplify your life: Use LastPass to autofill in this site's login info!")
}}if(!I){sendBG({cmd:"checkgenpwfillforms",url:document.location.href});return}addStyle();run_custom_js(document,showMenuScript());var A=document.createElement("div");A.id="lastpass-notification";A.style.background="#ffff4f";var J=window.getComputedStyle(F,null);A.style.marginLeft=-1*(parseInt(J.getPropertyValue("margin-left"))+parseInt(J.getPropertyValue("padding-left"))+parseInt(J.getPropertyValue("border-left-width")))+"px";
A.style.marginRight=-1*(parseInt(J.getPropertyValue("margin-right"))+parseInt(J.getPropertyValue("padding-right"))+parseInt(J.getPropertyValue("border-right-width")))+"px";A.style.marginTop=-1*(parseInt(J.getPropertyValue("margin-top"))+parseInt(J.getPropertyValue("padding-top"))+parseInt(J.getPropertyValue("border-top-width")))+"px";
A.innerHTML='<img style="display:inline;" src="data:image/gif;base64,R0lGODlhEAAQAPZVADsBAkECBFEGCmQDBGoEB3UIDWcOEn0dHnZGRnhBQntbXIILEoIMEoENFI8QGI0UHJMQGKERGqURGq4QGIsaIZ4fJq8WI68YJrQXJLIZJbgZJ7gZKLwcK74dLa4gKq4iLLUgLaApMLwpNrwsOKUzOcAfL8EhMcUjM8YkNMgoOJw+QKY8QtA5Sdo/T6dARa5FS6tOUr9MUqRRVrRVWY9pa5BmaZBqbMRKVNlRYclud/14iLyIiKuoqNGbneyPmfOAkPeElNGvsNO3t+aorfGjq+y/w8zMzNXU1N3S0t7W1t3a2uLR0e3U1vLd4OLh4ejo6Png4/bx8ff09Pr5+f7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAFYALAAAAAAQABAAAAfEgFaCVlCFhoWDgzk6QD+Oj0A6OYMyLSwdJR2amywtMoITKZgbFRsYIRqaKROCEpgZO1IkMFM7GJgSghGZKEVVQktVQyclJRG6JR8uM1NVVVEvKx7GyDHO11VUVTHUVgEECUlIR+RHSUoJBAGCAAMHKgpO8koIKgcDAIICCwwGRk89gjzhUYABAwGCGly4IIIIkxE3mvgAkeFCA0EPMBQ7gcNEio7FMDwQVAOCBQ6bNnGwAKHGIBoUHMicKZOCjUQ4cw4KBAA7"/>';
var K="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9oCChArHvpVRZcAAADzSURBVDjL3ZK7SgMBEEXPuIZglBDEmCIaHyhYKIKFlUX+YXGbECT5gZBKCPk3v8ZKVLBRETwW7sISdC2sdGC6mcO9dwb+fqnxm/1YALWAHvAEPAAvwDtg3gnwFhF+p2atGFYb6qka6na707Xd6aruVNlZUnvpYFJA+mp/7+DYdDBRvVBrP+ah7qbDaSHbdDhVPczVJFWApACp/ZKdVgm+Wd5ZXmDU1SPgPiJuLq+uP5OOeFS3gFvguUrBhnoGmI1mqk21mY1mhZJztV4F2AfMxnPV9dxKqCfZeF5AVr78g1KIjfz2r3kGkd9/FahFxB3/qz4A6pGs27EIl/sAAAAASUVORK5CYII=";
var B="data:image/gif;base64,R0lGODlhEAAbAIcAAAAAZgAzZjMzZjNmZjMzmTNmmTNmzGZmmWZmzDOZmTOZzDPMzGaZmWaZzGbMzGbM//8AAJmZzJmZ/5nMzMzMzMzM/8z/////zP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAABAALAAAAAAQABsAAAi7ACEIHEiwoMGDCBMSpEDhQASHEB9GiHBBIIUJFSpYyKiRY4UIAhF8lBCB5ESSJgVObHCgZYQGCAa4RCDQoQAMGA4UaImzJU0IE3liYHAAJ4MCEX4eQECAwE2cOQEQONBAYIMCBZo+PRAga0uBOwMIeIpzQICmP1kWGNCTbU4BMME2CGB0ANayDH4icHA1QYIHCvr+LSCQQQMHDxYkXoy4AUiVBgogMIBAsoHIEygo3My5s+fPoEOLHg06IAA7";
A.innerHTML+='<div id="lastpass-content">'+C.text+"</div>";A.innerHTML+='<img lptype="close" src="'+K+'" onmouseover="this.src=\''+B+"'\" onmouseout=\"this.src='"+K+"'\" style=\"float: right; margin-right: 10px; margin-bottom: -10px;\" onclick=\"this.dispatchEvent(lpcustomEvent); document.getElementById('lastpass-notification').style.display='none'\"/> ";
if(H=="fill"){A.innerHTML+=createFillMenus(C)}else{if(H=="add"){A.innerHTML+=createAddButtons(C);A.style.background="#87d087"}else{if(H=="generate"){A.innerHTML+=createGenerateButtons(C)}else{if(H=="formfill"){A.innerHTML+=createFormFillButtons(C)}else{if(H=="change"){A.innerHTML+=createChangeButtons(C)
}}}}}run_custom_js(document,"document.addEventListener('mouseup', function(e){ if(typeof(closelpmenus)=='function'){closelpmenus();}}, false)");F.insertBefore(A,F.firstChild);curr_notification_type=H}catch(G){console.log(G)}}function lpclosenotification(){if(document.getElementById("lastpass-notification")){document.body.removeChild(document.getElementById("lastpass-notification"));
curr_notification_type=""}}function sitesMatchTLD(C){var A=lp_gettld_url(document.location.href);for(var B in C){if(A==lp_gettld_url(C[B]["url"])){return true}}return false}function createFillMenus(F){var D="";var E=getAutoFillArray(F.sites);var C=getcount(E);var H=getAutoLoginArray(E);var G=getcount(H);
D+="<input type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"' onclick='lpshowmenudiv(\"never\");return false;'>";if(C==1){for(var B in E){D+="<input lptype='autofillsingle' aid=\""+E[B]["aid"]+"\" type='button' id='lpautofill' class='lpbutton' value='"+gs("AutoFill")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"
}}else{D+="<input type='button' id='lpautofill' class='lpbutton' value='"+gs("AutoFill")+" ("+C+")' onclick='lpshowmenudiv(\"autofill\")'>"}if(1==G){for(var B in H){D+="<input lptype='autologinsingle' aid=\""+H[B]["aid"]+"\" type='button' id='lpautologin' class='lpbutton' value='"+gs("AutoLogin")+"' onclick='this.dispatchEvent(lpcustomEvent);'>"
}}else{if(G>0){D+="<input type='button' id='lpautologin' class='lpbutton' value='"+gs("AutoLogin")+" ("+G+")' onclick='lpshowmenudiv(\"autologin\")'>"}}if(G>0){D+=createMenu("autologin",H,G)}D+=createMenu("autofill",E,C);var A=g_fillaid!=null;D+=createNeverMenu(A);document.addEventListener("lpCustomEventMenu",function(I){var J=I.srcElement.getAttribute("lptype");
if(J=="autologin"){sendBG({cmd:"autologinaid",aid:I.srcElement.getAttribute("aid")});document.getElementById("lppopupautologin").style.display="none"}else{if(J=="autologinsingle"){sendBG({cmd:"autologinaid",aid:I.srcElement.getAttribute("aid")});document.getElementById("lastpass-notification").style.display="none"
}else{if(J=="autofill"){sendBG({cmd:"autofillaid",aid:I.srcElement.getAttribute("aid")});document.getElementById("lppopupautofill").style.display="none"}else{if(J=="autofillsingle"){sendBG({cmd:"autofillaid",aid:I.srcElement.getAttribute("aid")});document.getElementById("lastpass-notification").style.display="none"
}else{if(J=="neverautofill"||J=="neverpage"||J=="neverdomain"){sendBG({cmd:J,url:document.location.href,aid:g_fillaid});document.getElementById("lppopupnever").style.display="none";document.getElementById("lastpass-notification").style.display="none"}}}}}},false);return D}function createAddButtons(B){var A="";
A+="<input type='button' lptype='notnow' id='lpnotnow' class='lpbutton' value='"+gs("Not Now")+"' onclick='this.dispatchEvent(lpcustomEvent);'>";A+="<input type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"' onclick='lpshowmenudiv(\"never\");'>";A+="<input type='button' lptype='addsite' id='lpaddsite' class='lpbutton' value='"+gs("Save Site")+"' onclick='this.dispatchEvent(lpcustomEvent);'>";
A+=createNeverMenu();document.addEventListener("lpCustomEventMenu",function(C){var D=C.srcElement.getAttribute("lptype");if(D=="addsite"){sendBG({cmd:"savethesite",notificationdata:B.notificationdata});document.getElementById("lastpass-notification").style.display="none"}else{if(D=="notnow"){sendBG({cmd:"notnow",notificationdata:B.notificationdata,tld:lp_gettld_url(document.location.href)});
document.getElementById("lastpass-notification").style.display="none"}else{if(D=="close"){sendBG({cmd:"clearnotification"})}else{if(D=="neverpage"||D=="neverdomain"){sendBG({cmd:D,url:B.notificationdata["url"],fromsave:"1",notificationdata:B.notificationdata,tld:lp_gettld_url(document.location.href)});
document.getElementById("lppopupnever").style.display="none";document.getElementById("lastpass-notification").style.display="none"}}}}},false);return A}function createChangeButtons(B){var A="";A+="<input type='button' lptype='savenewsite' id='lpsavenewsite' class='lpbutton' value='"+gs("Save New Site")+"' onclick='this.dispatchEvent(lpcustomEvent);'>";
A+="<input type='button' lptype='confirm' id='lpconfirm' class='lpbutton' value='"+gs("Confirm")+"' onclick='this.dispatchEvent(lpcustomEvent);'>";document.addEventListener("lpCustomEventMenu",function(C){var D=C.srcElement.getAttribute("lptype");if(D=="savenewsite"){sendBG({cmd:"savethesite",notificationdata:B.notificationdata});
document.getElementById("lastpass-notification").style.display="none"}else{if(D=="confirm"){sendBG({cmd:"changepw",notificationdata:B.notificationdata});document.getElementById("lastpass-notification").style.display="none"}else{if(D=="close"){sendBG({cmd:"clearnotification"})}}}},false);return A}function createGenerateButtons(C){var A="";
A+="<input type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"' onclick='lpshowmenudiv(\"never\");'>";A+=createNeverMenu();A+="<input type='button' lptype='generate' id='lpgenerate' class='lpbutton' value='"+gs("Generate")+"' onclick='this.dispatchEvent(lpcustomEvent);'>";if(C.extra3){var B=getcount(g_sites);
if(B>0){A+="<input type='button' id='lpfillcurrent' class='lpbutton' value='"+gs("Fill Current")+" ("+B+")' onclick='lpshowmenudiv(\"fillcurrent\");'>";A+=createMenu("fillcurrent",g_sites,B)}}if(C.extra2){var B=getcount(g_formfills);if(B>0){if(alwayschooseprofilecc){A+="<input type='button' lptype='chooseprofilecc' id='lpchooseprofilecc' class='lpbutton' value='"+gs("Fill Form")+" ("+B+")' onclick='this.dispatchEvent(lpcustomEvent);'>"
}else{A+="<input type='button' id='lpfillform' class='lpbutton' value='"+gs("Fill Form")+" ("+B+")' onclick='lpshowmenudiv(\"fillform\");'>";A+=createMenu("fillform",g_formfills,getcount(g_formfills))}}}createGenerateFormFillListener();return A}function createFormFillButtons(B){var A="";var A="";A+="<input type='button' id='lpnever' class='lpbutton' value='"+gs("Never...")+"' onclick='lpshowmenudiv(\"never\");'>";
A+=createNeverMenu();if(alwayschooseprofilecc){A+="<input type='button' lptype='chooseprofilecc' id='lpchooseprofilecc' class='lpbutton' value='"+gs("Fill Form")+" ("+getcount(g_formfills)+")' onclick='this.dispatchEvent(lpcustomEvent);'>"}else{A+="<input type='button' id='lpfillform' class='lpbutton' value='"+gs("Fill Form")+" ("+getcount(g_formfills)+")' onclick='lpshowmenudiv(\"fillform\");'>";
A+=createMenu("fillform",g_formfills,getcount(g_formfills))}createGenerateFormFillListener();return A}function createGenerateFormFillListener(){document.addEventListener("lpCustomEventMenu",function(B){var C=B.srcElement.getAttribute("lptype");if(C=="fillform"){sendBG({cmd:"fillformffid",ffid:B.srcElement.getAttribute("ffid")});
document.getElementById("lppopupfillform").style.display="none"}else{if(C=="addprofile"){sendBG({cmd:"addprofile"});document.getElementById("lppopupfillform").style.display="none"}else{if(C=="addcreditcard"){sendBG({cmd:"addcreditcard"});document.getElementById("lppopupfillform").style.display="none"
}else{if(C=="clearforms"){sendBG({cmd:"clearforms"});document.getElementById("lppopupfillform").style.display="none"}else{if(C=="chooseprofilecc"){sendBG({cmd:"chooseprofilecc"});if(document.getElementById("lppopupfillform")){document.getElementById("lppopupfillform").style.display="none"}if(alwayschooseprofilecc&&!document.getElementById("lpgenerate")){document.getElementById("lastpass-notification").style.display="none"
}}else{if(C=="fillcurrent"){sendBG({cmd:"fillcurrentaid",aid:B.srcElement.getAttribute("aid")});document.getElementById("lppopupfillcurrent").style.display="none"}else{if(C=="generate"){sendBG({cmd:"generate"});if(!document.getElementById("lppopupfillform")&&!document.getElementById("lppopupfillcurrent")){document.getElementById("lastpass-notification").style.display="none"
}}else{if(C=="neverpage"||C=="neverdomain"){var A={cmd:C,url:document.location.href};if(document.getElementById("lpgenerate")){A.fromgenerate=1}else{A.fromformfill=1}sendBG(A);document.getElementById("lppopupnever").style.display="none";document.getElementById("lastpass-notification").style.display="none"
}}}}}}}}},false)}function getAutoFillArray(B){var C=new Array();for(var A in B){if(B[A]["genpw"]){continue}C[A]=B[A]}return C}function getAutoLoginArray(C){var A=new Array();for(var B in C){if(typeof(C[B]["fields"])=="undefined"||getcount(C[B]["fields"])==0||!canFindForm(C[B]["fields"])){continue}A[B]=C[B]
}return A}function canFindForm(I){var A=document.getElementsByTagName("form");for(var F=0;F<A.length;F++){var J=new Array();for(var E in I){if(I[E].type=="text"||I[E].type=="password"){J[I[E].type+I[E].name]=0}}var B=false;var C=A[F].elements;var H=new Array();for(var E=0;E<C.length;E++){var D=C[E];if(D.type=="text"||D.type=="password"){if(typeof(J[D.type+D.name])!="undefined"){J[D.type+D.name]=1
}if(D.type=="password"){B=true}H[D.type+D.name]=0}}for(var E in I){if(I[E].type=="text"||I[E].type=="password"){if(typeof(H[I[E].type+I[E].name])!="undefined"){H[I[E].type+I[E].name]=1}}}if(B){var K=true;for(var E in J){if(J[E]==0){K=false;break}}var G=true;for(var E in H){if(H[E]==0){G=false;break}}if(K||G){return true
}}}return false}function createMenu(J,H,I){var G="";var A="";var K=false;var D=false;var B=I;if(J=="fillform"){if(I>0){B++}B+=3;for(var F in g_formfills){if(g_formfills[F].profiletype==0){K=true}if(g_formfills[F].ccnum!=""){D=true}}if(K&&D){B++}}if(B<12){A=" style='height:"+(B*18)+"px'"}G+="<div id='lppopup"+J+"' class='lppopup' "+A+"><table width='100%'>";
for(var F in H){var E="";if(J!="fillform"&&H[F]["useusername"]!=""){E=" ("+H[F]["useusername"]+")"}var C=J=="fillform"?"ffid":"aid";G+="<tr lptype='"+J+"' "+C+'="'+H[F][C]+"\" onclick='this.dispatchEvent(lpcustomEvent);'><td>"+H[F][J=="fillform"?"decprofilename":"name"]+E+"</td></tr>"}if(J=="fillform"){if(I>0){G+="<tr style='background-color: #fff;'><td><hr></td></tr>"
}G+="<tr lptype='addprofile' onclick='this.dispatchEvent(lpcustomEvent);'><td>"+gs("Add Profile")+"</td></tr>";G+="<tr lptype='addcreditcard' onclick='this.dispatchEvent(lpcustomEvent);'><td>"+gs("Add Credit Card")+"</td></tr>";G+="<tr lptype='clearforms' onclick='this.dispatchEvent(lpcustomEvent);'><td>"+gs("Clear Forms")+"</td></tr>";
if(K&&D){G+="<tr lptype='chooseprofilecc' onclick='this.dispatchEvent(lpcustomEvent);'><td>"+gs("Choose Profile and Credit Card")+"</td></tr>"}}G+="</table></div>";addMenuIdToPage(J);return G}function createNeverMenu(B){var A="";var C=" style='height:"+(g_fillaid!=null?"53":"40")+"px'";A+="<div id='lppopupnever' class='lppopup' "+C+"><table width='100%'>";
if(B){A+="<tr lptype='neverautofill' onclick='this.dispatchEvent(lpcustomEvent);'><td>"+gs("Never AutoFill")+"</td></tr>"}A+="<tr lptype='neverpage' onclick='this.dispatchEvent(lpcustomEvent);'><td>"+gs("Never For This Page")+"</td></tr>";A+="<tr lptype='neverdomain' onclick='this.dispatchEvent(lpcustomEvent);'><td>"+gs("Never For This Domain")+"</td></tr>";
A+="</table></div>";addMenuIdToPage("never");return A}function addMenuIdToPage(A){var B="if(typeof(lpgblmenus)=='undefined'){ lpgblmenus = new Array(); }   lpgblmenus[lpgblmenus.length] = 'lppopup"+A+"';   ";run_custom_js(document,B)}function showMenuScript(){return"function lpshowmenudiv(id){   closelpmenus(id);   var div = document.getElementById('lppopup'+id);   var btn = document.getElementById('lp'+id);   if(btn && div){     var btnstyle = window.getComputedStyle(btn, null);     var divstyle = window.getComputedStyle(div, null);     var posx = btn.offsetLeft;     posx -= 80;     var divwidth = parseInt(divstyle.getPropertyValue('width'));     if(posx + divwidth > window.innerWidth - 25){       posx -= ((posx + divwidth) - window.innerWidth + 25);     }     div.style.left = posx + \"px\";     div.style.top = (btn.offsetTop + btnstyle.getPropertyValue('height')) + \"px\";         if(div.style.display=='block') div.style.display = 'none';     else div.style.display = 'block';       } }function closelpmenus(id){   if(typeof(lpgblmenus)!='undefined'){     for(var i=0; i < lpgblmenus.length; i++){       if(id==null || lpgblmenus[i]!='lppopup'+id)         document.getElementById(lpgblmenus[i]).style.display = 'none';     }   }} var lpcustomEvent = document.createEvent('Event'); lpcustomEvent.initEvent('lpCustomEventMenu', true, true); "
}function getcount(C){var B=0;for(var A in C){B++}return B}function checkForLoginForm(G){var A=G.getElementsByTagName("form");for(var E=0;E<A.length;E++){var F=0;var D=A[E].elements;for(var C=0;C<D.length;C++){var B=D[C];if(B.type=="password"){if(g_fillaid){return true}else{if(++F>=2){return false}}}}if(F==1){return true
}}return false}function lp_notification_exists(A,B){return B==curr_notification_type||(B=="autologin"&&curr_notification_type=="fill")}function never_gen(B,A){return false}function never_ff(B,A){return false}function lp_showNotification(D,G,E,J,F,H,C,B,A,I){lpshownotification(J,{text:gs(D),aid:E,extra:F,extra2:C,extra3:B})
}onLoad();
