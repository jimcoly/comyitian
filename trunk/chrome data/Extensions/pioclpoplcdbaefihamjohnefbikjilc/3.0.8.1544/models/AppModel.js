function AppModel(a){this.__defineGetter__("modelName",this.getModelName);this.initialize(a);}AppModel.prototype.handleInheritance=function(a){if(typeof this[AppModel.CLASS_FIELD]=="string"){AppModel.Registry[this[AppModel.CLASS_FIELD]]=this;}this.prototype.constructor.modelName=this.prototype.constructor.toString().replace(/\n/g,"").replace(/^.*function\s+([^\(]+).*$/,"$1");};AppModel.prototype._updated=false;AppModel.prototype.initialize=function(c){if(c!=null&&typeof c=="object"){for(var a in c){var b="set"+(a.substring(0,1).toUpperCase())+a.substring(1);if(typeof this[b]=="function"){this[b].apply(this,[c[a]]);}else{if(typeof this[a]!="undefined"&&a!="modelName"){this[a]=c[a];}}}}this.constructor.modelName=this.modelName;};AppModel.prototype._modelName=null;AppModel.prototype.getModelName=function(){return this.constructor.toString().replace(/\n/g,"").replace(/^.*function\s+([^\(]+).*$/,"$1");};AppModel.prototype.equals=function(a){return(this==a);};AppModel.prototype.serialize=function(){return JSON.stringify(this);};AppModel.prototype.properties=function(){var b=new Array();for(var a in this){if(typeof this[a]!="function"){b.push(a);}}return b;};AppModel.prototype.methods=function(){var a=new Array();for(var b in this){if(typeof this[b]=="function"&&b!="constructor"&&b!="prototype"){a.push(b);}}return a;};AppModel.prototype.toStorable=function(c){var b={};var d=this.getStorableProps();c=(typeof c=="string")?c:"";for(var a=0;a<d.length;a++){if(typeof this[d[a]]!="undefined"&&this[d[a]]!=null){b[c+d[a]]=this[d[a]];}}return b;};AppModel.prototype.getStorableProps=function(){var b=new Array();for(var a in this){if(this[a]!=null&&a.indexOf("_")!=0&&a!="modelName"&&(typeof this[a]=="string"||typeof this[a]=="number"||typeof this[a]=="boolean")){b.push(a);}}return b;};AppModel.prototype.toJSON=function(){return this.toStorable();};AppModel.Registry={};AppModel.registeredClasses=function(){var b=new Array();for(var a in AppModel.Registry){b.push(a);}return b;};AppModel.CLASS_FIELD="javaClass";AppModel.unmarshall=function(e){var b=null;if(typeof e[AppModel.CLASS_FIELD]=="string"&&typeof AppModel.Registry[e[AppModel.CLASS_FIELD]]=="function"){var d=AppModel.Registry[e[AppModel.CLASS_FIELD]];b=new d();}else{if(e[AppModel.CLASS_FIELD]&&e[AppModel.CLASS_FIELD].toLowerCase().indexOf("list")>0&&e.list instanceof Array){b=new Array();}else{if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"){return e;}else{if(e instanceof Array){b=new Array();for(var c=0;c<e.length;c++){b.push(AppModel.unmarshall(e[c]));}return b;}else{b=new this();}}}}if(b){for(var c in e){if(c.indexOf("set")==0){continue;}var a="set"+c.substring(0,1).toUpperCase()+c.substring(1);if(typeof e[c]=="string"||typeof e[c]=="number"||typeof e[c]=="boolean"){if(typeof b[a]=="function"){b[a].apply(b,[e[c]]);}else{b[c]=e[c];}}else{if(typeof e[c]=="object"&&e[c]!=null){b[c]=AppModel.unmarshall(e[c]);}}}}return b;};AppModel.marshall=function(c){if(c instanceof Array){var a=new Array();for(var b=0;b<c.length;b++){a.push(AppModel._marshall(c[b]));}return a;}else{return AppModel._marshall(c);}};AppModel._marshall=function(a){if(a&&typeof a.toStorable=="function"){return a.toStorable();}else{return a;}};