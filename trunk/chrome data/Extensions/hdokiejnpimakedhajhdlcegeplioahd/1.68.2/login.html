<html><head><link rel="stylesheet" type="text/css" href="general.css"><link rel="stylesheet" type="text/css" href="styles.css"><link rel="stylesheet" type="text/css" href="combobox.css">
<script src="lpfulllib.js"></script>
<script src="db.js"></script>
<script src="combobox.js"></script>
<script type='text/javascript'>var reprompt_callback=null;function do_submit(){var B=fix_username(document.getElementById("u").value);var G=document.getElementById("p").value;var A=make_lp_hash(B,G);var F=make_lp_key(B,G);if(reprompt_callback!=null){var C=getBG();if(F==C.g_local_key){var E=0;if(document.getElementById("donotrepromptfor").checked){E=document.getElementById("donotrepromptforsecs").value}C.lpPutUserPref("reprompttime",E);C.lpWriteAllPrefs();C.set_last_reprompt_time();window.close();reprompt_callback()}else{alert(gs("Invalid Password."));
chrome.tabs.update(C.g_selectedtabid,{selected:true});window.close()}}else{var D=getBG();if(!D){alert(gs("Can't find hidden LastPass window"));return}D.LP_do_login(B,G,document.getElementById("rememberemail").checked,document.getElementById("rememberpassword").checked,null,document.getElementById("showvault").checked);chrome.tabs.update(D.g_selectedtabid,{selected:true});window.close()}return false}var passwords=new Array();function load(){try{var D=getBG();if(D.g_reprompt_callback!=null){reprompt_callback=D.g_reprompt_callback;
D.g_reprompt_callback=null;document.getElementById("reprompttext").style.display="";document.getElementById("deleteicon").style.display="none";document.getElementById("rememberemailrow").style.display="none";document.getElementById("rememberpasswordrow").style.display="none";document.getElementById("showvaultrow").style.display="none";document.getElementById("donotrepromptforrow").style.display="";document.getElementById("u").value=D.g_username;document.getElementById("u").value=D.g_username;document.getElementById("u").disabled=true;
var F=D.lpGetPref("reprompttime",0);document.getElementById("donotrepromptfor").checked=F>0;document.getElementById("donotrepromptforsecs").value=F;document.getElementById("p").focus();document.getElementById("links").style.display="none"}else{var B=D.lpGetPref("rememberemail",1);var A=D.lpGetPref("rememberpassword",-1);var E=D.lpGetPref("showvault",-1);document.getElementById("rememberemail").checked=B==1?true:false;document.getElementById("rememberpassword").checked=A==1?true:false;document.getElementById("showvault").checked=E==1?true:false;
getBG().g_db_transaction_tested=getBG().g_db_transaction_worked=false;var C=opendb();createSavedLoginsTable(C);if(C){C.transaction(function(H){getBG().g_db_transaction_tested=getBG().g_db_transaction_worked=true;H.executeSql("SELECT * FROM LastPassSavedLogins2 order by last_login desc",[],function(I,K){var J=new Array();for(var M=0;M<K.rows.length;M++){J[M]=K.rows.item(M)["username"];passwords[J[M]]=K.rows.item(M)["password"];if(K.rows.item(M)["protected"]){passwords[J[M]]=getBG().unprotect_data(passwords[J[M]])
}}J.sort(function(P,O){return P.toLowerCase()<O.toLowerCase()?-1:1});create_combo("u",J);if(K.rows.length>0){var N=K.rows.item(0)["username"];var L=passwords[N];document.getElementById("u").value=N;document.getElementById("p").focus();if(L!=""){document.getElementById("p").value=L;if(A==-1){document.getElementById("rememberpassword").checked=true}document.getElementById("login").focus()}}else{document.getElementById("u").focus()}},function(I,J){console.log(J)})});setTimeout("test_db_failed();",1000)
}else{test_db_failed()}}}catch(G){console.log(G)}}function test_db_failed(){getBG().g_db_transaction_tested=true;if(!getBG().g_db_transaction_worked){document.getElementById("nodbtext").style.display="";document.getElementById("u").focus();create_combo("u",new Array())}}function username_changed(){var A=document.getElementById("u").value;if(typeof(passwords[A])!="undefined"&&passwords[A]!=""){document.getElementById("p").value=passwords[A];document.getElementById("rememberpassword").checked=true}else{document.getElementById("p").value="";
document.getElementById("rememberpassword").checked=false}}function delete_user(){var C=document.getElementById("u").value;var A=opendb();createSavedLoginsTable(A);if(A){A.transaction(function(D){D.executeSql("DELETE FROM LastPassSavedLogins2 WHERE username=?",[C])})}delete passwords[C];delete_combo_item("u",C);document.getElementById("u").value="";for(var B in passwords){document.getElementById("u").value=B;break}username_changed()};</script>
</head><body onLoad='load()'><img src='logo_big.png'/><br/><br/><br/><div id="reprompttext" style="display: none;"><br><script type="text/javascript">document.write(gs("Your current settings require you to enter your LastPass password to complete this action."));</script><br><br></div><div id="nodbtext" style="display: none; color: red;"><br><b><script type="text/javascript">document.write(gs("The version of Chrome you are currently running does not have HTML5 database support enabled.  As such, this login page will not remember your email and password, and other features such as automatic login on browser restart will not work.  You may be able to fix this by adding --enable-databases as a parameter to your Google Chrome browser shortcut.")+" "+gs("You may also be blocking all cookies, which causes Chrome to disallow HTML5 database access."));</script></b><br><br></div><form id='f' onsubmit='do_submit();return false;'><table><tr><td><script type="text/javascript">document.write(gs("Email"));</script></td><td><input type='text' id='u' name='username' value='' onchange="username_changed();"/>&nbsp;&nbsp;<img id="deleteicon" src="x3.gif" valign="middle" onclick="delete_user();"></td></tr><tr><td><script type="text/javascript">document.write(gs("Password"));</script></td><td><input type='password' id='p' name='password'/></td></tr><tr id="rememberemailrow"><td>&nbsp;</td><td><input type='checkbox' name='rememberemail' id='rememberemail' onclick="if (!this.checked) document.getElementById('rememberpassword').checked=false;"/>&nbsp;&nbsp;<script type="text/javascript">document.write(gs("Remember Email"));</script></td></tr><tr id="rememberpasswordrow"><td>&nbsp;</td><td><input type='checkbox' name='rememberpassword' id='rememberpassword' onclick="if (this.checked && !confirm(gs('Are you sure you want to have LastPass remember your password? This will significantly decrease the security of your LastPass account!'))) { this.checked = false; } if (this.checked) document.getElementById('rememberemail').checked = true;"/>&nbsp;&nbsp;<script type="text/javascript">document.write(gs("Remember Password"));</script></td></tr><tr id="showvaultrow"><td>&nbsp;</td><td><input type='checkbox' name='showvault' id='showvault' onclick="if (!this.checked) document.getElementById('showvault').checked=false;"/>&nbsp;&nbsp;<script type="text/javascript">document.write(gs("Show My LastPass Vault After Login"));</script></td></tr><tr id="donotrepromptforrow" style="display: none;"><td>&nbsp;</td><td><input type='checkbox' name='donotrepromptfor' id='donotrepromptfor'/>&nbsp;&nbsp;<script type="text/javascript">document.write(gs("Do not re-prompt for "));</script>
<select id="donotrepromptforsecs" onchange="document.getElementById('donotrepromptfor').checked = this.selectedIndex > 0;"><option value="0"></option><option value="30"><script type="text/javascript">document.write("30 "+gs("seconds"));</script></option><option value="60"><script type="text/javascript">document.write("60 "+gs("seconds"));</script></option><option value="300"><script type="text/javascript">document.write("5 "+gs("minutes"));</script></option><option value="900"><script type="text/javascript">document.write("15 "+gs("minutes"));</script></option><option value="1800"><script type="text/javascript">document.write("30 "+gs("minutes"));</script></option><option value="3600"><script type="text/javascript">document.write("1 "+gs("hour"));</script></option><option value="10800"><script type="text/javascript">document.write("3 "+gs("hours"));</script></option><option value="21600"><script type="text/javascript">document.write("6 "+gs("hours"));</script></option><option value="43200"><script type="text/javascript">document.write("12 "+gs("hours"));</script></option><option value="86400"><script type="text/javascript">document.write("24 "+gs("hours"));</script></option></select></td></tr><tr><td></td><td><input type='button' id='login' onclick="do_submit();"/><input type='button' id='cancel' onclick="chrome.tabs.update(getBG().g_selectedtabid, {selected:true});window.close();"/></td></tr></table></form><div id='links'><span id="forgotcontainer"><a id='forgot' href='javascript:getBG().openURL(base_url+"forgot.php");'><script type="text/javascript">document.write(gs("I forgot my password, Help!"));</script></a><br/></span><span id="screenkeyboardcontainer"><a id='screenkeyboard' href='javascript:getBG().openURL(base_url+"?sk=1");'><script type="text/javascript">document.write(gs("Screen Keyboard"));</script></a><br/></span><span id="createaccountcontainer"><a id='createaccount' href='javascript:getBG().openURL(getchromeurl("welcome.html"));'><script type="text/javascript">document.write(gs("Create Account"));</script></a><br/></span></div><div id='error'></div>
<script type="text/javascript">sr(document,"login","value","Login");sr(document,"cancel","value","Cancel");sr(document,"forgot","innerHTML","I forgot my password, Help!");if(getBG().LPISLOC){document.getElementById("forgotcontainer").style.display=document.getElementById("screenkeyboardcontainer").style.display=document.getElementById("createaccountcontainer").style.display="none"}sr(document,"screenkeyboard","innerHTML","Screen Keyboard");sr(document,"createaccount","innerHTML","Create Account");</script>
</body></html>
