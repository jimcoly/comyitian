<html><head><link rel="stylesheet" type="text/css" href="general.css">
<script type='text/javascript' src="lpfulllib.js"></script>
<script src="jquery.portal.js"></script>
<script type='text/javascript'>var g_current_version=0;function onLoad(){populate();document.getElementById("searchbox").focus();window.addEventListener("keydown",function(A){handle_keydown(A)},false);setTimeout("checkVersion()",500)}function onResize(){document.getElementById("gridsite").style.height=(document.body.clientHeight-document.getElementById("gridsite").offsetTop)+"px"}var g_selectedrow=-1;var g_searchhasfocus=false;function handle_keydown(C){var A=C.keyCode!=0?C.keyCode:C.charCode;if(A==40||A==38){var B=(A==40?g_selectedrow+1:(g_selectedrow==-1?g_ids.length:g_selectedrow-1));
if(B+1>g_ids.length||B<0){}else{if(g_selectedrow!=-1){document.getElementById("site"+g_ids[g_selectedrow]).className="site"}g_selectedrow=B;document.getElementById("site"+g_ids[g_selectedrow]).className="site focus"}}else{if(A==13&&!g_searchhasfocus&&g_selectedrow!=-1){ls(g_ids[g_selectedrow])}}}function clearkeyboardnav(){if(g_selectedrow!=-1){document.getElementById("site"+g_ids[g_selectedrow]).className="site";g_selectedrow=-1}}var g_ids=[];var g_lastsearch=null;function populate(){var C=getBG();
var D=document.getElementById("searchbox").value;if(g_lastsearch==D&&g_selectedrow!=-1){ls(g_ids[g_selectedrow]);return}g_lastsearch=D;var B=search_results(C,D);B.sort(C.lp_sort_case_insensitive_name);s=[];g_ids=[];g_selectedrow=-1;for(var A in B){g_ids.push(B[A].aid);s.push(getsitehtml(B,A))}s.push('<div id="gridclear" class="clear"/>');$("#gridsite").html(s.join(""));s=null;document.getElementById("gridsite").style.height=(document.body.clientHeight-document.getElementById("gridsite").offsetTop)+"px";
g_current_version=C.g_local_accts_version}function checkVersion(){var A=getBG();if(!A.lploggedin||g_current_version!=A.g_local_accts_version){populate()}setTimeout("checkVersion()",500)}function search_results(B,D){var A=new Array();for(var C in B.g_sites){if(!B.check_ident_aid(C)){continue}var E=B.g_sites[C];if(E.url=="http://group"){continue}if(E.url.toLowerCase().indexOf(D)!=-1||E.name.toLowerCase().indexOf(D)!=-1||E.group.toLowerCase().indexOf(D)!=-1||E.unencryptedUsername.toLowerCase().indexOf(D)!=-1){A[A.length]=E
}}for(var C in B.g_securenotes){if(!B.check_ident_aid(C)){continue}var E=B.g_securenotes[C];if(E.name.toLowerCase().indexOf(D)!=-1||E.group.toLowerCase().indexOf(D)!=-1){A[A.length]=E}}return A}function search_go(){populate()}function search_clear(){document.getElementById("searchbox").value="";populate()}function sp(A,C,D){if(A.innerHTML==gs("Show")){var B=getBG();if(B.g_sites[C].sharedfromaid!=null&&B.g_sites[C].sharedfromaid!=""&&B.g_sites[C].sharedfromaid!="0"&&B.g_sites[C].sharedfromaid!="null"){alert(gs("This is a shared site. You are not permitted to view the password."));
return}if(!D&&(B.g_sites[C].pwprotect||B.g_prompts.view_pw_prompt)){B.security_prompt(function(){sp(A,C,true)});return}A.innerHTML=B.lpmdec(B.g_sites[C].password,true)}else{A.innerHTML=gs("Show")}}function os(B){var A=getBG();A.editAid(B,window);return false}function ds(B){var A=getBG();A.deleteAid(B,window);return false}function ls(B){var A=getBG();A.launch(B);window.close();return false}function search_keyup(B,C){var A=B.charCode?B.charCode:(B.keyCode?B.keyCode:(B.which?B.which:0));if(A==13){populate()
}}var MAX_GROUPNAME_LEN=80;var MAX_SITENAME_LEN=30;var MAX_SITEUSERNAME_LEN=15;function getgrouphtml(E,A,B,C){var D=C?"":'<span>|</span><a href="#" onclick="return eg('+E+')">Edit</a><span>|</span><a onclick="return dg('+E+')" href="#">Delete</a>';return'<div class="group" id="group'+E+'"><div class="border"><div class="groupname" onclick="group_toggle('+E+')" ><span class="sort"><span class="title">'+trunc(A,MAX_GROUPNAME_LEN)+'<span class="count">('+B+')</span></span></span></div><div class="groupaction"><a onclick="return og('+E+')" href="#">Open All</a>'+D+'&nbsp;&nbsp;&nbsp;</div></div></div><div class="groupsites" id="groupsites'+E+'"></div>'
}function getsitehtml(C,A,B){id=C[A].aid;name=trunc(C[A].name,MAX_SITENAME_LEN);username=(typeof(C[A].unencryptedUsername)!="undefined"?trunc(C[A].unencryptedUsername,MAX_SITEUSERNAME_LEN):"");return'<div class="site" id="site'+id+'"><div class="border"><div class="sitename"><span class="content">'+sprite_gethtml(C[A].fiid,C[A].sn)+'<a target="_blank" href="#" onclick="return ls(\''+id+"')\">"+name+'</a></span></div><div class="siteusername"><span class="content">'+username+'</span></div><div class="sitepassword"><span class="content"><a href="#" onclick="return sp(this, \''+id+"')\">"+gs("Show")+'</a></span></div><div class="sitefavorite"><span class="content">'+(C[A].fav=="1"?'<img src="images/icon_favorite.png"/>':"")+'</span></div><div class="sitenote"><span class="content">'+(C[A].extra!=""?'<img src="images/icon_note.png"/>':"")+'</span></div><div class="siteprotected"><span class="content">'+(C[A].pwprotect?'<img src="images/icon_protected.png"/>':"")+'</span></div><div class="siteautologin"><span class="content">'+(C[A].autologin?'<img src="images/icon_autologin.png"/>':"")+'</span></div><div class="siteaction"><a href="#" onclick="return os(\''+id+"')\">"+gs("Edit")+"</a><span>|</span><a onclick=\"return ds('"+id+'\');" href="#">'+gs("Delete")+"</a>&nbsp;&nbsp;&nbsp;</div></div></div>"
}function sprite_gethtml(C,B){var A=getBG();return A.geticonhtml(C,B)}function trunc(B,A){if(B.length<=A){return B}return B.substr(0,A)+"..."};</script>
<link rel="stylesheet" type="text/css" href="sites.css"></head><body onload='onLoad()' onresize='onResize()'><img src='logo_big.png'/><br/><br/><br/><div class="searchsites"><div> <script type="text/javascript">document.write(gs("Find a site"));</script> <input id="searchbox" type="text" onkeyup="search_keyup(event)" onFocus="g_searchhasfocus=true;clearkeyboardnav();" onBlur="g_searchhasfocus=false;"/><a href="#" onclick="return search_go()"><script type="text/javascript">document.write(gs("Search"));</script></a><a href="#" onclick="return search_clear()"><script type="text/javascript">document.write(gs("Show all sites"));</script></a></div></div><div id="gridsites"><div class="header"><div id="headername" onclick="header_sort(this)"><span class="sort"><span class="title"><script type="text/javascript">document.write(gs("NAME"));</script></span></span></div><div id="headerusername" onclick="header_sort(this)"><span class="sort"><span class="title"><script type="text/javascript">document.write(gs("USERNAME"));</script></span></span></div><div id="headerpassword"><span class="sort"><span class="title"><script type="text/javascript">document.write(gs("PASSWORDupper"));</script></span></span></div><div id="headerfavorite"><span class="sort"><span class="title"></span></span></div><div id="headernote"><span class="sort"><span class="title"></span></span></div><div id="headerprotected"><span class="sort"><span class="title"></span></span></div><div id="headerautologin"><span class="sort"><span class="title"></span></span></div><div id="headeraction"><span class="sort"><span class="title"><script type="text/javascript">document.write(gs("ACTION"));</script></span></span></div></div><div id="gridsite"></div></div></body></html>
