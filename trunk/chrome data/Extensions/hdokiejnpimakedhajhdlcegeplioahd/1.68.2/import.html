<html><head><link rel="stylesheet" type="text/css" href="general.css">
<script type='text/javascript' src="lpfulllib.js"></script>
<script src="jquery.portal.js"></script>
<script type='text/javascript'>var g_fromwelcome=document.location.href.indexOf("?fromwelcome=1")!=-1;var g_results=null;function onLoad(){populate()}function populate(){var B=getBG();if(B.have_nplastpass(true)&&typeof(B.g_nplastpass.get_chrome_passwords)=="function"){g_results=B.g_nplastpass.get_chrome_passwords()}else{document.getElementById("needbinaryspan").style.display=""}var C=[];for(var A in g_results){C.push(getsitehtml(g_results,A))}C.push('<div id="gridclear" class="clear"/>');$("#gridsite").html(C.join(""));C=null}function sp(A,B){if(A.innerHTML==gs("Show")){A.innerHTML=g_results[B].password
}else{A.innerHTML=gs("Show")}}var MAX_SITENAME_LEN=30;var MAX_SITEUSERNAME_LEN=15;function getsitehtml(C,A,B){id=A;name=trunc(C[A].url,MAX_SITENAME_LEN);username=(typeof(C[A].username)!="undefined"?trunc(C[A].username,MAX_SITEUSERNAME_LEN):"");return'<div class="site" id="site'+id+'"><div class="border"><div class="sitename"><span class="content">'+name+'</span></div><div class="siteusername"><span class="content">'+username+'</span></div><div class="sitepassword"><span class="content"><a href="#" onclick="return sp(this, \''+id+"')\">"+gs("Show")+'</a></span></div><div class="siteimport"><input type="checkbox" id="import'+id+'" checked></div></div></div>'
}function trunc(B,A){if(B.length<=A){return B}return B.substr(0,A)+"..."}function select_all(){for(var A=0;A<g_results.length;A++){document.getElementById("import"+A).checked=true}}function unselect_all(){for(var A=0;A<g_results.length;A++){document.getElementById("import"+A).checked=false}}function lpimport(){var G=new Array();var D="cmd=uploadaccounts&username="+getBG().en(getBG().g_username);for(var C=0;C<g_results.length;C++){if(document.getElementById("import"+C).checked){var F=g_results[C];
D+="&url"+C+"="+getBG().en(getBG().bin2hex(F.url));D+="&username"+C+"="+getBG().en(getBG().lpenc(F.username));D+="&password"+C+"="+getBG().en(getBG().lpenc(F.password));D+="&type"+C+"=ie";D+="&usernamefield"+C+"="+getBG().en(F.username_field);D+="&passwordfield"+C+"="+getBG().en("*"+F.password_field);var E=lp_gettld_url(F.url);for(var B=1;B<=1000;B++){var A=E;if(B>1){A+=" ("+B+")"}if(!lp_in_array(A,G)){G[G.length]=A;break}}D+="&name"+C+"="+getBG().en(getBG().lpenc(A));if(getBG().LPISLOC){lpImportChromePasswordLocal(F)
}}}if(getBG().LPISLOC){getBG().g_local_accts_version++;getBG().rewritelocalfile()}D+=getBG().get_identity_param();getBG().lpMakeRequest(base_url+"lastpass/api.php",D,lpUploadAccountsResponse)}function lpImportChromePasswordLocal(G){var D=getBG();var H=D.createNewAcct();H.aid=get_new_id();H.name=lp_gettld_url(G.url);H.url=G.url;var C=lp_gettld_url(H.url);H.tld=C;H.unencryptedUsername=G.username;H.username=D.lpmenc(G.username,true);H.password=D.lpmenc(G.password,true);var F=get_new_id();H.urid=F;addfield(H,G.username_field,"text",D.lpmenc(G.username,true),F);
addfield(H,G.password_field,"password",D.lpmenc(G.password,true),F);if(typeof(D.g_tlds[H.tld])=="undefined"){D.g_tlds[H.tld]=new Array()}D.g_tlds[H.tld][H.aid]=true;D.add_ident_aid(H.aid);if(typeof(D.g_equivalentdomains[C])!="undefined"){var A=D.g_equivalentdomains[C];if(typeof(D.g_equivalentdomains[A])!="undefined"){for(var B=0;B<D.g_equivalentdomains[A].length;B++){var E=D.g_equivalentdomains[A][B];if(typeof(D.g_tlds[E])=="undefined"){D.g_tlds[E]=new Array()}D.g_tlds[E][aid]=true}}}D.g_sites[H.aid]=H
}function addfield(F,A,B,D,C){var E=new Object();E.otherfield=false;E.name=A;E.type=B;E.value=D;E.formname="";E.checked=false;E.urid=C;E.otherlogin="0";E.url="";F.fields[F.fields.length]=E}function lpUploadAccountsResponse(A){if(!A){return}if(A.readyState==4){if(A.status==200){if(A.responseText.indexOf("OK")>0){getBG().get_accts();getBG().refresh_windows();alert(gs("Your Google Chrome passwords have been imported successfully."));if(g_fromwelcome){document.location.href="configure_formfill.html"}else{getBG().closecurrenttab()
}}else{alert(gs("An error occurred while importing your Google Chrome passwords."))}}}}function cancel(){getBG().closecurrenttab()}function getbinary(){var A=getBG();if(A){A.openURL(A.base_url+"lpchrome_bin.crx")}window.close()};</script>
<link rel="stylesheet" type="text/css" href="sites.css"></head><body onload='onLoad()'><img src='logo_big.png'/><br/><br/><br/><span id="needbinaryspan" style="display: none;"><a href="javascript:getbinary();"><script type="text/javascript">document.write(gs("Install the binary version of LastPass for Chrome to enable importing passwords from Google Chrome password manager"));</script></a><br/><br/></span><input type="button" id="lpimport" onclick="lpimport();"><input type="button" id="cancel" onclick="cancel();"><br/><br/><input type="button" id="selectall" onclick="select_all();"><input type="button" id="unselectall" onclick="unselect_all();">
<script type="text/javascript">document.getElementById("selectall").value=gs("Select All");document.getElementById("unselectall").value=gs("Unselect All");document.getElementById("lpimport").value=gs("Import");document.getElementById("cancel").value=gs("Cancel");</script>
<br/><div id="gridsites"><div class="header"><div id="headername" onclick="header_sort(this)"><span class="sort"><span class="title"><script type="text/javascript">document.write(gs("SITE"));</script></span></span></div><div id="headerusername" onclick="header_sort(this)"><span class="sort"><span class="title"><script type="text/javascript">document.write(gs("USERNAME"));</script></span></span></div><div id="headerpassword"><span class="sort"><span class="title"><script type="text/javascript">document.write(gs("PASSWORDupper"));</script></span></span></div><div id="headerimport"><span class="sort"><span class="title"><script type="text/javascript">document.write(gs("IMPORT?"));</script></span></span></div></div><div id="gridsite"></div></div></body></html>
