(function(){var c=devhd.pkg("control");var a=c.BaseControl.prototype;var d=c.createClass("MerlinControl",c.BaseControl);var b=devhd.i18n.L;d.initialize=function(){a.initialize.call(this)};d.setSigns=function(g){this.signs=g};d.setFeedly=function(g){this.feedly=g};d.setRepo=function(g){this.repo=g};d.destroy=function(g){this.feedly=null;this.signs=null;
this.repo=null;a.destroy.call(this)};d.display=function(){this.part.innerHTML=templates.control.merlin.layout(this.model,this.home);this.bind(this.element("preview"),"click",e);this.bind(this.element("close"),"click",f);var g=this;this.home.getDocument().defaultView.setTimeout(function(){g.element("source").focus()},250)};function f(){this.feedly.clearMessageBar(true)
}function e(){var g=devhd.utils.StringUtils.trim(this.element("source").value);this.signs.setMessage(b(b(328),null,g),50,false);var h=this;this.repo.askResolveURL(g,function(i){if(i!=null){h.feedly.loadPage("subscription/"+i)}else{h.signs.setNextAutoHideDelay(3500);h.signs.setMessage(b(b(304),null,g))}})}})();