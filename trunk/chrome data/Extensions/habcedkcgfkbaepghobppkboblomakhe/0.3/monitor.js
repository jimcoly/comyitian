chrome.extension.sendRequest({command:"getWangWangInstallStatus"},function(a){if(!a){return}document.addEventListener("mousedown",function(g){var d=g.target,f=d.parentNode,c=f.className;if(d.tagName==="A"&&d.onclick&&(c.indexOf("J_WangWang")>-1||c.indexOf("ww:token")>-1)){d.onclick=null}});var b=function(g){var c=g.split("&"),f,d=[];for(var e=0;e<c.length;++e){f=c[e].split("=");d[f[0]]=f[1]}return d};document.addEventListener("click",function(h){var f=h.target,g=f.parentNode,d=g.className;if(f.tagName==="A"&&(d.indexOf("J_WangWang")>-1||d.indexOf("ww:token")>-1)){f.onclick=null;h.preventDefault();h.stopPropagation();var k=null,j="",c="",i="";if(d.indexOf("J_WangWang")>-1){c=g.getAttribute("data-nick");i=g.getAttribute("data-item")}else{if(d.indexOf("ww:token")>-1){k=b(g.getAttribute("ww:params"));c=k.nick;i=k.item}}chrome.extension.sendRequest({command:"openWangWang",fromUid:encodeURIComponent(j||""),toUid:encodeURIComponent(c||""),itemId:encodeURIComponent(i||"")})}})});
